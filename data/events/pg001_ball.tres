[gd_resource type="Resource" script_class="GameEvent" load_steps=23 format=3 uid="uid://keuxjqq7sfy0"]

[ext_resource type="Script" uid="uid://cohvc8fiel25u" path="res://scripts/data_structures/events/event_option.gd" id="1_nyf0e"]
[ext_resource type="Script" uid="uid://ba6vthi2ebiys" path="res://scripts/data_structures/events/event_outcome.gd" id="2_kiyrx"]
[ext_resource type="Script" uid="uid://cv44sc5a1ixbf" path="res://scripts/data_structures/events/game_event.gd" id="2_otofg"]
[ext_resource type="Script" uid="uid://th10ftgxxtg6" path="res://scripts/data_structures/events/skill_check.gd" id="3_5vh3p"]
[ext_resource type="Script" uid="uid://bdnmbh4kwjwa8" path="res://scripts/data_structures/events/trigger_conditions.gd" id="5_algan"]

[sub_resource type="Resource" id="Resource_w4whb"]
script = ExtResource("2_kiyrx")
type = "ChangeResource"
target = "Treasury"
value = -100
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_784uf"]
script = ExtResource("2_kiyrx")
type = "ChangeCharacterOpinion"
target = "{lady_id_1}"
value = -15
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_kiyrx"]
script = ExtResource("3_5vh3p")
stat = "Diplomacy"
difficulty = 13
metadata/_custom_type_script = "uid://th10ftgxxtg6"

[sub_resource type="Resource" id="Resource_5vh3p"]
script = ExtResource("2_kiyrx")
type = "ChangeResource"
target = "Treasury"
value = -100
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_fvw56"]
script = ExtResource("2_kiyrx")
type = "StartCourting"
target = "{lady_id_1}"
value = 1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_v3jlo"]
script = ExtResource("1_nyf0e")
text = "At the ball, I focus my attention on the {lady_personality_1}  {lady_name_1}."
success_text = "You spend the evening dancing with {lady_name_1}, showering her with attention and witty compliments. By the end of the night, she is clearly smitten. You have laid the foundation for a promising courtship."
failure_text = "Your attempts to woo {lady_name_1} are a disaster. You step on her feet while dancing and your conversation is dull. She spends the rest of the evening avoiding you. You have made a fool of yourself."
skill_check = SubResource("Resource_kiyrx")
required_gold = 100
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_kiyrx")]([SubResource("Resource_5vh3p"), SubResource("Resource_fvw56")])
failure_outcomes = Array[ExtResource("2_kiyrx")]([SubResource("Resource_w4whb"), SubResource("Resource_784uf")])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_kn0y6"]
script = ExtResource("2_kiyrx")
type = "ChangeResource"
target = "Treasury"
value = -100
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_t63g1"]
script = ExtResource("2_kiyrx")
type = "ChangeCharacterOpinion"
target = "{lady_id_2}"
value = -15
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_nj1mr"]
script = ExtResource("3_5vh3p")
stat = "Diplomacy"
difficulty = 13
metadata/_custom_type_script = "uid://th10ftgxxtg6"

[sub_resource type="Resource" id="Resource_0n7m8"]
script = ExtResource("2_kiyrx")
type = "ChangeResource"
target = "Treasury"
value = -100
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_myiym"]
script = ExtResource("2_kiyrx")
type = "StartCourting"
target = "{lady_id_2}"
value = 1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_wbifr"]
script = ExtResource("2_kiyrx")
type = "ChangeAffection"
target = "{lady_id_2}"
value = 15
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_kpju5"]
script = ExtResource("1_nyf0e")
text = "At the ball, I focus my attention on the {lady_personality_2}   {lady_name_2}."
success_text = "You spend the evening dancing with {lady_name_2}, showering her with attention and witty compliments. By the end of the night, she is clearly smitten. You have laid the foundation for a promising courtship."
failure_text = "Your attempts to woo {lady_name_2} are a disaster. You step on her feet while dancing and your conversation is dull. She spends the rest of the evening avoiding you. You have made a fool of yourself."
skill_check = SubResource("Resource_nj1mr")
required_gold = 100
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_kiyrx")]([SubResource("Resource_0n7m8"), SubResource("Resource_myiym"), SubResource("Resource_wbifr")])
failure_outcomes = Array[ExtResource("2_kiyrx")]([SubResource("Resource_kn0y6"), SubResource("Resource_t63g1")])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_6x8m2"]
script = ExtResource("2_kiyrx")
type = "ChangeResource"
target = "Treasury"
value = -100
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_rr5ry"]
script = ExtResource("2_kiyrx")
type = "ChangeOpinion"
target = "Nobility"
value = 10
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_3ekwe"]
script = ExtResource("1_nyf0e")
text = "I will host the ball but mingle with everyone, committing to no one."
success_text = "You act the part of the gracious host, ensuring all your guests are entertained. You make no special advances, leaving the court guessing about your intentions. The night is a political success, boosting your standing with the nobility, even if it brings you no closer to marriage."
failure_text = ""
required_gold = 0
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_kiyrx")]([SubResource("Resource_6x8m2"), SubResource("Resource_rr5ry")])
failure_outcomes = Array[ExtResource("2_kiyrx")]([])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_d1mof"]
script = ExtResource("5_algan")
requires_player_is_married = false
requires_player_is_unmarried = true
requires_player_is_courting = false
requires_player_is_not_courting = true
requires_spouse_is_not_pregnant = false
min_gold = 0
max_gold = 100
min_food = 0
max_food = 100
requires_is_at_war = false
requires_is_at_peace = false
allowed_seasons = 15
requires_friendly_rival = false
requires_unfriendly_rival = false
requires_empty_neighboring_province = false
requires_coastal_province = false
max_nobility_opinion = 100
min_nobility_opinion = 0
max_public_opinion = 100
min_public_opinion = 0
metadata/_custom_type_script = "uid://bdnmbh4kwjwa8"

[resource]
script = ExtResource("2_otofg")
category = 6
trigger_conditions = SubResource("Resource_d1mof")
event_id = "PG001"
title = "A Grand Ball"
unlocked_at_start = true
rarity = 2
cooldown_years = 0
selection_cost = 150
summary = "Your steward suggests hosting a grand ball to survey the eligible ladies of the court and choose one to court."
description = "Your throne sits empty beside you, a silent reminder of your unmarried status. The court whispers, and your steward suggests a direct approach. \"My Liege,\" he proposes, \"a grand ball would be the perfect occasion to survey the eligible ladies of the court. We could invite all the noble houses. It is time you chose someone to begin courting.\""
vignette_texture = "uid://q6ku08kuj06j"
options = Array[ExtResource("1_nyf0e")]([SubResource("Resource_v3jlo"), SubResource("Resource_kpju5"), SubResource("Resource_3ekwe")])
metadata/_custom_type_script = "uid://cv44sc5a1ixbf"

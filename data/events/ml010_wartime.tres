[gd_resource type="Resource" script_class="GameEvent" load_steps=15 format=3 uid="uid://ctgrxilbrbfpm"]

[ext_resource type="Script" uid="uid://cohvc8fiel25u" path="res://scripts/data_structures/events/event_option.gd" id="1_d5s2e"]
[ext_resource type="Script" uid="uid://ba6vthi2ebiys" path="res://scripts/data_structures/events/event_outcome.gd" id="2_au71t"]
[ext_resource type="Script" uid="uid://cv44sc5a1ixbf" path="res://scripts/data_structures/events/game_event.gd" id="2_piu1b"]
[ext_resource type="Script" uid="uid://th10ftgxxtg6" path="res://scripts/data_structures/events/skill_check.gd" id="3_1e7dw"]
[ext_resource type="Script" uid="uid://bdnmbh4kwjwa8" path="res://scripts/data_structures/events/trigger_conditions.gd" id="3_piu1b"]

[sub_resource type="Resource" id="Resource_eyqc3"]
script = ExtResource("2_au71t")
type = "ChangeWarScore"
target = ""
value = -15
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_fxbth"]
script = ExtResource("2_au71t")
type = "ChangeResource"
target = "Manpower"
value = -500
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_2aspr"]
script = ExtResource("3_1e7dw")
stat = "Martial"
difficulty = 15
metadata/_custom_type_script = "uid://th10ftgxxtg6"

[sub_resource type="Resource" id="Resource_1e7dw"]
script = ExtResource("2_au71t")
type = "AddProvince"
target = "{wartarget_province_name}"
value = 0
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_mfr33"]
script = ExtResource("2_au71t")
type = "ChangeResource"
target = "Manpower"
value = -200
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_v0pgf"]
script = ExtResource("2_au71t")
type = "ChangeWarScore"
target = ""
value = 20
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_xgl1p"]
script = ExtResource("1_d5s2e")
text = "Launch the offensive"
success_text = "The battle is fierce, but your soldiers fight with valor and carry the day! The enemy garrison is broken, and your banner now flies over the walls of {wartarget_province_name}. This is a glorious victory!"
failure_text = "The enemy's defenses were stronger than anticipated. After a bloody and brutal fight, your forces are repulsed, leaving many brave soldiers dead on the field. It is a bitter and costly defeat."
skill_check = SubResource("Resource_2aspr")
required_gold = 100
required_manpower = 200
required_food = 0
success_outcomes = Array[ExtResource("2_au71t")]([SubResource("Resource_1e7dw"), SubResource("Resource_mfr33"), SubResource("Resource_v0pgf")])
failure_outcomes = Array[ExtResource("2_au71t")]([SubResource("Resource_eyqc3"), SubResource("Resource_fxbth")])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_nimvi"]
script = ExtResource("1_d5s2e")
text = "\"No, it's too risky. Reinforce our defenses instead.\""
success_text = "You opt for caution, choosing to consolidate your forces and defend your current territory. The opportunity for a glorious offensive is missed, but your army is spared a potentially bloody battle."
failure_text = "You opt for caution, choosing to consolidate your forces and defend your current territory. The opportunity for a glorious offensive is missed, but your army is spared a potentially bloody battle."
required_gold = 0
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_au71t")]([])
failure_outcomes = Array[ExtResource("2_au71t")]([])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_au71t"]
script = ExtResource("3_piu1b")
requires_player_is_married = false
requires_player_is_unmarried = false
requires_player_is_courting = false
requires_player_is_not_courting = false
requires_spouse_is_not_pregnant = false
min_gold = 0
max_gold = 100
min_food = 0
max_food = 100
requires_is_at_war = true
requires_is_at_peace = false
allowed_seasons = 15
requires_friendly_rival = false
requires_unfriendly_rival = false
requires_valid_trade_partner = false
requires_empty_neighboring_province = false
requires_coastal_province = false
max_nobility_opinion = 100
min_nobility_opinion = 0
max_public_opinion = 100
min_public_opinion = 0
metadata/_custom_type_script = "uid://bdnmbh4kwjwa8"

[resource]
script = ExtResource("2_piu1b")
category = 7
trigger_conditions = SubResource("Resource_au71t")
event_id = "ML010"
title = "Plan the Next Offensive"
unlocked_at_start = true
rarity = 1
cooldown_years = 0
selection_cost = 50
summary = "During the ongoing war, your Marshal has identified a weakly-held enemy province as a target for a major offensive."
description = "The war against {enemy_kingdom_name} rages on. Your Marshal presents a plan to launch a major offensive against the province of {wartarget_province_name}. A victory here could turn the tide of the war."
vignette_texture = ""
options = Array[ExtResource("1_d5s2e")]([SubResource("Resource_xgl1p"), SubResource("Resource_nimvi")])
metadata/_custom_type_script = "uid://cv44sc5a1ixbf"

[gd_resource type="Resource" script_class="GameEvent" load_steps=21 format=3 uid="uid://1bpu1p15tclk"]

[ext_resource type="Script" uid="uid://cohvc8fiel25u" path="res://scripts/data_structures/events/event_option.gd" id="1_2v7gs"]
[ext_resource type="Script" uid="uid://ba6vthi2ebiys" path="res://scripts/data_structures/events/event_outcome.gd" id="2_ar47w"]
[ext_resource type="Script" uid="uid://cv44sc5a1ixbf" path="res://scripts/data_structures/events/game_event.gd" id="2_hn64g"]
[ext_resource type="Script" uid="uid://th10ftgxxtg6" path="res://scripts/data_structures/events/skill_check.gd" id="3_6ff17"]
[ext_resource type="Script" uid="uid://bdnmbh4kwjwa8" path="res://scripts/data_structures/events/trigger_conditions.gd" id="5_6ff17"]

[sub_resource type="Resource" id="Resource_bksvs"]
script = ExtResource("2_ar47w")
type = "ChangeAffection"
target = "{lady_id}"
value = -100
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_ercut"]
script = ExtResource("2_ar47w")
type = "EndCourting"
target = "{lady_id}"
value = 1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_8it2a"]
script = ExtResource("3_6ff17")
stat = "Diplomacy"
difficulty = 10
metadata/_custom_type_script = "uid://th10ftgxxtg6"

[sub_resource type="Resource" id="Resource_5pwto"]
script = ExtResource("2_ar47w")
type = "MarryCharacter"
target = "{lady_id}"
value = 1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_ybdsa"]
script = ExtResource("1_2v7gs")
text = "I have come to care for you deeply. Will you do me the honor of becoming my wife?"
success_text = "Her face breaks into a radiant smile. \"Yes,\" she says, her voice full of emotion. \"A thousand times, yes!\" The court erupts in celebration as the betrothal is announced. You have not just gained a wife, but a true partner."
failure_text = "A shadow of doubt crosses her face. \"My Liege... you honor me, but... I am not ready for this.\" She turns and flees, leaving you stunned and heartbroken in front of your entire court. The humiliation is as sharp as the rejection."
skill_check = SubResource("Resource_8it2a")
required_gold = 0
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_ar47w")]([SubResource("Resource_5pwto")])
failure_outcomes = Array[ExtResource("2_ar47w")]([SubResource("Resource_bksvs"), SubResource("Resource_ercut")])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_622k5"]
script = ExtResource("2_ar47w")
type = "EndCourting"
target = "{lady_id}"
value = 1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_aocl7"]
script = ExtResource("2_ar47w")
type = "ChangeAffection"
target = "{lady_id}"
value = -100
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_ar47w"]
script = ExtResource("3_6ff17")
stat = "Stewardship"
difficulty = 15
metadata/_custom_type_script = "uid://th10ftgxxtg6"

[sub_resource type="Resource" id="Resource_6ff17"]
script = ExtResource("2_ar47w")
type = "MarryCharacter"
target = "{lady_id}"
value = 1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_en2gl"]
script = ExtResource("2_ar47w")
type = "AddModifier"
target = "NobleHouseAlliance"
value = -1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_5hlf5"]
script = ExtResource("1_2v7gs")
text = "Let us unite our families. Our marriage will strengthen the realm."
success_text = "She considers your words, her expression serious. \"A wise proposal,\" she agrees, nodding. \"For the good of the kingdom, I accept.\" The match is seen as a masterful political move, securing the loyalty of her powerful family and strengthening your reign."
failure_text = "She looks at you with profound disappointment. \"Is that all I am to you? A political tool? A bargaining chip?\" she asks, her voice cold. \"I will not be a pawn in your games.\" She turns her back on you, the proposal and the courtship shattered."
skill_check = SubResource("Resource_ar47w")
required_gold = 0
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_ar47w")]([SubResource("Resource_6ff17"), SubResource("Resource_en2gl")])
failure_outcomes = Array[ExtResource("2_ar47w")]([SubResource("Resource_622k5"), SubResource("Resource_aocl7")])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_ms88u"]
script = ExtResource("2_ar47w")
type = "ChangeAffection"
target = "{lady_id}"
value = -50
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_dfqe3"]
script = ExtResource("2_ar47w")
type = "EndCourting"
target = "{lady_id}"
value = 1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_tunlg"]
script = ExtResource("1_2v7gs")
text = "Actually... I need more time to think."
success_text = "You falter at the final moment. The warmth in her eyes freezes over, replaced by a look of disbelief and hurt. She gives a single, curt nod and walks away without another word. You have deeply insulted her and likely ruined any chance you had. The courtship is over."
failure_text = "You falter at the final moment. The warmth in her eyes freezes over, replaced by a look of disbelief and hurt. She gives a single, curt nod and walks away without another word. You have deeply insulted her and likely ruined any chance you had. The courtship is over."
required_gold = 0
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_ar47w")]([SubResource("Resource_ms88u"), SubResource("Resource_dfqe3")])
failure_outcomes = Array[ExtResource("2_ar47w")]([])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_bykhd"]
script = ExtResource("5_6ff17")
requires_player_is_married = false
requires_player_is_unmarried = false
requires_player_is_courting = true
requires_player_is_not_courting = false
requires_spouse_is_not_pregnant = false
min_gold = 0
max_gold = 100
min_food = 0
max_food = 100
requires_is_at_war = false
requires_is_at_peace = false
allowed_seasons = 15
requires_friendly_rival = false
requires_unfriendly_rival = false
requires_valid_trade_partner = false
requires_empty_neighboring_province = false
requires_coastal_province = false
max_nobility_opinion = 100
min_nobility_opinion = 0
max_public_opinion = 100
min_public_opinion = 0
metadata/_custom_type_script = "uid://bdnmbh4kwjwa8"

[resource]
script = ExtResource("2_hn64g")
category = 6
trigger_conditions = SubResource("Resource_bykhd")
event_id = "PG004"
title = "The Question"
unlocked_at_start = true
rarity = 2
cooldown_years = 0
selection_cost = 150
summary = "Your long and successful courtship has reached its natural conclusion; it is time to propose marriage."
description = "The long months of courtship have borne fruit. The bond between you and lady {girlfriend_name} is undeniable, a constant topic of gossip and speculation within the court. You both know the next logical step. The time has come to make your intentions plain. The time has come to ask the question."
vignette_texture = ""
options = Array[ExtResource("1_2v7gs")]([SubResource("Resource_ybdsa"), SubResource("Resource_5hlf5"), SubResource("Resource_tunlg")])
metadata/_custom_type_script = "uid://cv44sc5a1ixbf"

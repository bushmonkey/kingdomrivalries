[gd_resource type="Resource" script_class="GameEvent" load_steps=21 format=3 uid="uid://ct7lwk7ehxw7u"]

[ext_resource type="Script" uid="uid://cohvc8fiel25u" path="res://scripts/data_structures/events/event_option.gd" id="1_g8kj1"]
[ext_resource type="Script" uid="uid://cv44sc5a1ixbf" path="res://scripts/data_structures/events/game_event.gd" id="2_c5yb2"]
[ext_resource type="Script" uid="uid://ba6vthi2ebiys" path="res://scripts/data_structures/events/event_outcome.gd" id="2_ed8hy"]
[ext_resource type="Script" uid="uid://th10ftgxxtg6" path="res://scripts/data_structures/events/skill_check.gd" id="3_cvtqs"]
[ext_resource type="Script" uid="uid://bdnmbh4kwjwa8" path="res://scripts/data_structures/events/trigger_conditions.gd" id="5_inwya"]

[sub_resource type="Resource" id="Resource_ed8hy"]
script = ExtResource("2_ed8hy")
type = "ChangeResource"
target = "Treasury"
value = -200
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_cvtqs"]
script = ExtResource("2_ed8hy")
type = "ChangeOpinion"
target = "Nobility"
value = -10
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_4stve"]
script = ExtResource("3_cvtqs")
stat = "Charisma"
difficulty = 14
metadata/_custom_type_script = "uid://th10ftgxxtg6"

[sub_resource type="Resource" id="Resource_nd3e0"]
script = ExtResource("2_ed8hy")
type = "ChangeResource"
target = "Treasury"
value = -200
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_au80n"]
script = ExtResource("2_ed8hy")
type = "ChangeOpinion"
target = "Nobility"
value = 20
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_g8mrj"]
script = ExtResource("2_ed8hy")
type = "ChangeOpinion"
target = "Public"
value = 10
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_5n8w5"]
script = ExtResource("1_g8kj1")
text = "\"An excellent idea! Spare no expense. Let the whole world see our dynasty's strength.\""
success_text = "The celebration is a magnificent affair spoken of for years. Your heir is presented to the cheering crowds, and the nobility toast to the future of your dynasty. The lavishness of the event is a powerful statement of your wealth and stability."
failure_text = "The celebration is a chaotic and poorly-managed mess. The food is late, the nobles squabble over seating, and your young heir throws a tantrum in front of everyone. The event is an expensive embarrassment."
skill_check = SubResource("Resource_4stve")
required_gold = 200
required_manpower = 0
required_food = 0
required_modifier = ""
success_outcomes = Array[ExtResource("2_ed8hy")]([SubResource("Resource_nd3e0"), SubResource("Resource_au80n"), SubResource("Resource_g8mrj")])
failure_outcomes = Array[ExtResource("2_ed8hy")]([SubResource("Resource_ed8hy"), SubResource("Resource_cvtqs")])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_inwya"]
script = ExtResource("2_ed8hy")
type = "ChangeResource"
target = "Treasury"
value = -50
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_4rp1d"]
script = ExtResource("2_ed8hy")
type = "ChangeOpinion"
target = "Church"
value = 20
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_gq2rp"]
script = ExtResource("2_ed8hy")
type = "ChangeOpinion"
target = "Nobility"
value = 5
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_vuvco"]
script = ExtResource("1_g8kj1")
text = "\"A formal church ceremony is more appropriate than a lavish party.\""
success_text = "You hold a solemn and dignified ceremony at the Grand Chapel. The Bishop anoints your heir, praying for their health and future wisdom. The Church is deeply impressed by your piety and focus on divine blessing over worldly celebration. The nobles, while missing a party, respect the devoutness of the occasion."
failure_text = "Failure!"
required_gold = 50
required_manpower = 0
required_food = 0
required_modifier = ""
success_outcomes = Array[ExtResource("2_ed8hy")]([SubResource("Resource_inwya"), SubResource("Resource_4rp1d"), SubResource("Resource_gq2rp")])
failure_outcomes = Array[ExtResource("2_ed8hy")]([])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_v05bq"]
script = ExtResource("2_ed8hy")
type = "ChangeOpinion"
target = "{wife_id}"
value = 15
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_qtx6j"]
script = ExtResource("2_ed8hy")
type = "ChangeOpinion"
target = "Nobility"
value = -5
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_lf30n"]
script = ExtResource("1_g8kj1")
text = "\"No, let the child grow without the pressures of the court for now.\""
success_text = "You decide against a public celebration, preferring to keep your family life private. While some see this as a missed opportunity to build prestige, your spouse appreciates your desire to protect your child from the public eye."
failure_text = "You decide against a public celebration, preferring to keep your family life private. While some see this as a missed opportunity to build prestige, your spouse appreciates your desire to protect your child from the public eye."
required_gold = 0
required_manpower = 0
required_food = 0
required_modifier = ""
success_outcomes = Array[ExtResource("2_ed8hy")]([SubResource("Resource_v05bq"), SubResource("Resource_qtx6j")])
failure_outcomes = Array[ExtResource("2_ed8hy")]([])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_0dp2b"]
script = ExtResource("5_inwya")
requires_player_is_married = false
requires_player_is_unmarried = false
requires_player_is_courting = false
requires_player_is_not_courting = false
requires_spouse_is_not_pregnant = false
min_gold = 0
max_gold = 100
min_food = 0
max_food = 100
requires_is_at_war = false
requires_is_at_peace = false
allowed_seasons = 15
requires_friendly_rival = false
requires_unfriendly_rival = false
requires_valid_trade_partner = false
requires_empty_neighboring_province = false
requires_coastal_province = false
requires_player_has_heir = true
max_nobility_opinion = 100
min_nobility_opinion = 0
max_public_opinion = 100
min_public_opinion = 0
metadata/_custom_type_script = "uid://bdnmbh4kwjwa8"

[resource]
script = ExtResource("2_c5yb2")
category = 5
trigger_conditions = SubResource("Resource_0dp2b")
event_id = "CU006"
title = "A Celebration for the Heir"
unlocked_at_start = true
rarity = 0
cooldown_years = 2
selection_cost = 0
summary = "Your spouse suggests holding a grand celebration in honor of your firstborn child, to present them to the court."
description = "Your spouse approaches you with a proud smile. \"My love,\" they say, \"it is time the realm formally celebrated our heir. A grand feast and tournament in honor of young {heir_name} would solidify their place in the hearts of the nobility and the people. It would be a joyous day for the entire kingdom.\""
vignette_texture = ""
options = Array[ExtResource("1_g8kj1")]([SubResource("Resource_5n8w5"), SubResource("Resource_vuvco"), SubResource("Resource_lf30n")])
metadata/_custom_type_script = "uid://cv44sc5a1ixbf"

[gd_resource type="Resource" script_class="GameEvent" load_steps=20 format=3 uid="uid://bi6frwcndy0yg"]

[ext_resource type="Script" uid="uid://cohvc8fiel25u" path="res://scripts/data_structures/events/event_option.gd" id="1_qqv1w"]
[ext_resource type="Script" uid="uid://cv44sc5a1ixbf" path="res://scripts/data_structures/events/game_event.gd" id="2_h4npi"]
[ext_resource type="Script" uid="uid://ba6vthi2ebiys" path="res://scripts/data_structures/events/event_outcome.gd" id="2_pbo4q"]
[ext_resource type="Script" uid="uid://bdnmbh4kwjwa8" path="res://scripts/data_structures/events/trigger_conditions.gd" id="3_h4npi"]
[ext_resource type="Script" uid="uid://th10ftgxxtg6" path="res://scripts/data_structures/events/skill_check.gd" id="3_sl6lh"]

[sub_resource type="Resource" id="Resource_xryga"]
script = ExtResource("2_pbo4q")
type = "ChangeResource"
target = "Treasury"
value = 50
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_14bku"]
script = ExtResource("2_pbo4q")
type = "ChangeOpinion"
target = "Public"
value = -5
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_0xt3e"]
script = ExtResource("3_sl6lh")
stat = "Stewardship"
difficulty = 14
metadata/_custom_type_script = "uid://th10ftgxxtg6"

[sub_resource type="Resource" id="Resource_2afc5"]
script = ExtResource("2_pbo4q")
type = "ChangeResource"
target = "Treasury"
value = 150
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_xfbpm"]
script = ExtResource("1_qqv1w")
text = "\"A prime opportunity. Impose a fair tax on all transactions.\""
success_text = "Your tax collectors are firm but fair, and the merchants, happy with their brisk trade, pay the levy without major complaint. A healthy sum of gold flows into the treasury from the bustling commerce."
failure_text = "Your collectors are either too aggressive, scaring off customers, or too lax, allowing many merchants to hide their sales. The fair is a chaotic mess, and in the end, you gain but a pittance for your efforts."
skill_check = SubResource("Resource_0xt3e")
required_gold = 0
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_pbo4q")]([SubResource("Resource_2afc5")])
failure_outcomes = Array[ExtResource("2_pbo4q")]([SubResource("Resource_xryga"), SubResource("Resource_14bku")])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_pbo4q"]
script = ExtResource("2_pbo4q")
type = "ChangeResource"
target = "Treasury"
value = -75
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_sl6lh"]
script = ExtResource("2_pbo4q")
type = "ChangeOpinion"
target = "Public"
value = 5
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_r84sw"]
script = ExtResource("3_sl6lh")
stat = "Charisma"
difficulty = 13
metadata/_custom_type_script = "uid://th10ftgxxtg6"

[sub_resource type="Resource" id="Resource_7l22g"]
script = ExtResource("2_pbo4q")
type = "ChangeResource"
target = "Treasury"
value = -75
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_ouaee"]
script = ExtResource("2_pbo4q")
type = "ChangeOpinion"
target = "Public"
value = 20
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_8xdtd"]
script = ExtResource("2_pbo4q")
type = "AddModifier"
target = "FestivalSpirit"
value = 2
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_0quer"]
script = ExtResource("2_pbo4q")
type = "UnlockEvent"
target = "CU005"
value = 1
duration = 0
stackable = false
metadata/_custom_type_script = "uid://ba6vthi2ebiys"

[sub_resource type="Resource" id="Resource_ucycp"]
script = ExtResource("1_qqv1w")
text = "\"Sponsor the festivities! Let this be a day my people never forget.\""
success_text = "You walk among the stalls, buying trinkets for children and sharing a drink with the common folk. Your presence and patronage turn the fair into a grand festival in your honor. The people adore you for it, and the success of the event inspires the merchants to propose a smaller winter fair later in the year."
failure_text = "You try to mingle, but your presence makes the commoners nervous, and your attempts at charm feel forced. The gesture is appreciated, but it does little to genuinely win the hearts of your people."
skill_check = SubResource("Resource_r84sw")
required_gold = 75
required_manpower = 0
required_food = 0
success_outcomes = Array[ExtResource("2_pbo4q")]([SubResource("Resource_7l22g"), SubResource("Resource_ouaee"), SubResource("Resource_8xdtd"), SubResource("Resource_0quer")])
failure_outcomes = Array[ExtResource("2_pbo4q")]([SubResource("Resource_pbo4q"), SubResource("Resource_sl6lh")])
metadata/_custom_type_script = "uid://cohvc8fiel25u"

[sub_resource type="Resource" id="Resource_oripr"]
script = ExtResource("3_h4npi")
requires_player_is_married = false
requires_player_is_unmarried = false
requires_player_is_courting = false
requires_player_is_not_courting = false
requires_spouse_is_not_pregnant = false
min_gold = 0
max_gold = 100
min_food = 0
max_food = 100
requires_is_at_war = false
requires_is_at_peace = false
allowed_seasons = 2
requires_friendly_rival = false
requires_unfriendly_rival = false
requires_valid_trade_partner = false
requires_empty_neighboring_province = false
requires_coastal_province = false
max_nobility_opinion = 100
min_nobility_opinion = 0
max_public_opinion = 100
min_public_opinion = 0
metadata/_custom_type_script = "uid://bdnmbh4kwjwa8"

[resource]
script = ExtResource("2_h4npi")
category = 1
trigger_conditions = SubResource("Resource_oripr")
event_id = "EC004"
title = "The Grand Summer Fair"
unlocked_at_start = true
rarity = 1
cooldown_years = 0
selection_cost = 50
summary = "A large traveling fair has arrived, offering a chance to tax its trade, sponsor the festivities, or simply let it be."
description = "A riot of color and noise has sprung up in the fields outside your capital. The Grand Summer Fair has arrived, bringing merchants from distant lands with exotic goods, alongside performers, jousting knights, and raucous competitions. The fair brings a surge of commerce and excitement. How will you manage this temporary boomtown?"
vignette_texture = ""
options = Array[ExtResource("1_qqv1w")]([SubResource("Resource_xfbpm"), SubResource("Resource_ucycp")])
metadata/_custom_type_script = "uid://cv44sc5a1ixbf"
